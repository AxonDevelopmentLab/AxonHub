let currentUrl=new URL(window.location.href),params=new URLSearchParams(currentUrl.search),changetype_params=params.get("changetype"),message_params=params.get("message"),redirect_param=params.get("redirectTo"),redirect_content=params.get("passContent"),cache_typeOf=(redirect_content=redirect_content&&redirect_content.split(","),null===redirect_param&&localStorage.getItem("auth_token")?redirect("account/dashboard"):document.getElementById("page").style.visibility="visible","register"),interval=void 0;function sendMessage(Content,Time=5e3){document.getElementById("callback.text").innerHTML=Content,void 0!==interval&&clearInterval(interval),interval=setInterval(()=>{clearInterval(interval),document.getElementById("callback.text").innerHTML="<br>",interval=void 0},Time)}let MessagePresets={PRESET_01:"Faça o login na conta na qual<br>você deseja vincular o Discord."},USERNAME=(null!==message_params&&(Object.keys(MessagePresets).includes(message_params)?sendMessage(MessagePresets[message_params]):sendMessage(message_params)),document.getElementById("username")),EMAIL=document.getElementById("email"),PASSWORD=document.getElementById("password"),CONFIRM_PASSWORD=document.getElementById("confirm.password");function auth(){var GenerateAuthObject;return USERNAME.disabled||USERNAME.value?!USERNAME.disabled&&USERNAME.length<4?sendMessage("Nome de usuário precisa conter no mínimo 4 caracteres."):EMAIL.value&&EMAIL.value.includes("@")?PASSWORD.value?PASSWORD.value.length<8?sendMessage("A senha precisa conter no mínimo 8 caracteres."):CONFIRM_PASSWORD.disabled||CONFIRM_PASSWORD.value===PASSWORD.value?(GenerateAuthObject={username:USERNAME.value,email:EMAIL.value,password:PASSWORD.value,confirm_password:CONFIRM_PASSWORD.value},USERNAME.disabled&&delete GenerateAuthObject.username,CONFIRM_PASSWORD.disabled&&delete GenerateAuthObject.confirm_password,USERNAME.value="",EMAIL.value="",PASSWORD.value="",CONFIRM_PASSWORD.value="",sendMessage("Aguarde...",3e5),void $.post("https://axon-api.glitch.me/auth/"+cache_typeOf,GenerateAuthObject).done(function(data){if(400===data.status)return sendMessage(data.message);if(localStorage.setItem("auth_token",data.auth_pass),null!==redirect_param){let first_param=!0,url=redirect_param+"?",acceptedParaments={id:()=>{first_param||(url+="&"),url+="id="+data.account_id,first_param=!1},code:()=>{first_param||(url+="&"),url+="code="+params.get("code"),first_param=!1}};if(redirect_content)for(var content of redirect_content)try{acceptedParaments[content]()}catch(err){}window.location.href=url}else location.reload()}).fail(function(failed){return sendMessage('O servidor está fora de ar!<br><b onclick="window.location.href=`https://axonhub.glitch.me/status/`">https://axonhub.glitch.me/status/</b>')})):sendMessage("As senhas não batem."):sendMessage("Senha inválida."):sendMessage("Email inválido."):sendMessage("Nome de usuário inválido.")}function changeType(){var TITLE=document.getElementById("title"),SUBMESSAGE=document.getElementById("submessage"),BUTTON=document.getElementById("button.action");cache_typeOf="login"===cache_typeOf?(TITLE.innerHTML="Crie a sua Conta",USERNAME.style.opacity=1,USERNAME.value="",USERNAME.disabled=!1,CONFIRM_PASSWORD.style.opacity=1,CONFIRM_PASSWORD.value="",CONFIRM_PASSWORD.disabled=!1,CONFIRM_PASSWORD.style.display="block",SUBMESSAGE.innerHTML='Já tem uma conta?<br>Clique <b onclick="changeType()">aqui</b> para entrar na sua conta.',BUTTON.innerHTML="CRIAR","register"):(TITLE.innerHTML="&nbsp;Entre na Conta",USERNAME.style.opacity=.1,USERNAME.value="",USERNAME.disabled=!0,CONFIRM_PASSWORD.style.opacity=.1,CONFIRM_PASSWORD.value="",CONFIRM_PASSWORD.disabled=!0,SUBMESSAGE.innerHTML='Não tem uma conta?<br>Clique <b onclick="changeType()">aqui</b> para criar a sua conta.',BUTTON.innerHTML="ENTRAR","login")}USERNAME.addEventListener("keydown",e=>{"Enter"===e.key&&(e.preventDefault(),auth())}),EMAIL.addEventListener("keydown",e=>{"Enter"===e.key&&(e.preventDefault(),auth())}),PASSWORD.addEventListener("keydown",e=>{"Enter"===e.key&&(e.preventDefault(),auth())}),CONFIRM_PASSWORD.addEventListener("keydown",e=>{"Enter"===e.key&&(e.preventDefault(),auth())}),null!==changetype_params&&changeType(),document.getElementById("button.action").addEventListener("click",e=>{e.preventDefault(),auth()});